<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dream Oracle</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

</head>

<body>
    <div class="sky" aria-hidden="true">
        <div class="cloud c1"></div>
        <div class="cloud c2"></div>
        <div class="cloud c3"></div>
        <div class="cloud c4"></div>
        <div class="cloud c5"></div>
        <div class="cloud c6"></div>
        <div class="cloud c7"></div>
    </div>
    <div class="stars" aria-hidden="true">
        <span class="star s1"></span>
        <span class="star s2"></span>
        <span class="star s3"></span>
        <span class="star s4"></span>
        <span class="star s5"></span>
        <span class="star s6"></span>
        <span class="star s7"></span>
        <span class="star s8"></span>
        <span class="star s9"></span>
        <span class="star s10"></span>
        <span class="star s11"></span>
        <span class="star s12"></span>
        <span class="star s13"></span>
        <span class="star s14"></span>
        <span class="star s15"></span>
    </div>
    <div class="dream-container">
        <h1>Dream Oracle</h1>

        <form method="POST">
            <div class="mb-3">
                <textarea name="prompt" rows="4" class="form-control"
                    placeholder="Describe your dream. Describe what you saw, felt, or feared..."></textarea>
            </div>
            <div class="d-grid">
                <input type="submit" value="Interpret Dream" class="btn btn-primary">
            </div>
        </form>
        <p id="loading" style="display:none;text-align:center;margin-top:10px;">
            Consulting the unconsciousâ€¦
        </p>


        {% if result %}
        <div class="result-box">
            <h4>Interpretation</h4>
            <p>{{ result }}</p>

            {% if image_url %}
            <img src="{{ image_url }}">
            {% endif %}
        </div>
        {% endif %}
    </div>

    <script>
        document.querySelector("form").addEventListener("submit", () => {
            document.getElementById("loading").style.display = "block";
        });
    </script>

</body>

</html>
